<%- include("partials/header.ejs") %>

<section class="container">
    <div class="head">
        <h1>TODO LIST</h1>
        <div class="search-field">
            <input class="search input-field" type="text" name="search-note" placeholder="Search note...">
            <select class="select" name="filter-note" id="filter">
                <option value="all" selected>ALL</option>
                <option value="complete">COMPLETE</option>
                <option value="incomplete">INCOMPLETE</option>
            </select>
            <button class="theme-changer"><img src="/static/icons/moon.svg" alt="moon icon"></button>
        </div>
    </div>

    <% if(locals.projects){ %>
    <div class="projects-list">
        <div class="projects">
            <% for(let project of projects) {%>
            <div class="project">
                <label class="checkbox-container">
                    <% if(project.is_archived) {%>
                        <input type="checkbox" checked="checked">
                    <%}else{ %>
                        <input type="checkbox"> 
                    <% } %>
                    <span class="checkbox-label"><%= project.name %></span>
                    <span class="checkmark"></span>
                </label>

                <img class="edit-pen-icon" src="/static/icons/pen.svg" alt="Edit pen icon!">
                <img class="trash-icon" src="/static/icons/trash.svg" alt="Trash icon!">
            </div>
            <% } %>
        </div>
    </div>
    <% }else{ %>
        <div class="no-note">
            <div class="no-note-image"></div>
            <p class="no-note-text">Empty...</p>
        </div>
    <% } %>

    <div class="add-btn-container" id="open-modal">
        <img class="plus-icon" src="/static/icons/plus.svg" alt="Plus icon!">
    </div>
</section>


<div class="modal-container">
    <div class="modal">
        <form class="modal-form" action="/newTask" method="post">
            <label class="main-form-title" for="projectName">NEW TASK</label>
            <input name="projectName" id="projectName" type="text" class="input-field" placeholder="Input your task...">
            
            <div class="form-actions">
                <input class="modal-btn cancel" id="close-modal" type="button" value="CANCEL">
                <input class="modal-btn apply" type="submit" value="APPLY">
            </div>
        </form>

    </div>
</div>

<script src="/static/homeScript.js"></script>
<%- include("partials/footer.ejs") %>